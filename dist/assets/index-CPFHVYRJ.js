import{j as e,m as c,S as et,P as H,A as B,C as ie,a as tt,F as ye,U as M,B as yt,H as ft,b as z,M as le,c as je,d as Zt,e as Q,L as Vt,f as ee,g as fe,E as _e,h as oe,G as jt,i as Xe,R as Pe,k as te,l as Ae,n as F,o as bt,T as We,p as st,q as vt,r as Nt,s as Yt,t as Gt,u as wt,v as Wt,w as Ve,x as Te,y as rt,D as Kt,z as at,W as nt,I as Xt,J as Jt,K as Qt,N as es,O as it,Q as lt,V as ts}from"./ui-D_jLh_Lr.js";import{b as ss,r as m}from"./vendor-B9gohGc-.js";import{c as rs}from"./supabase-8xmnZ9je.js";import{N as ot,a as U,u as Ee,L,b as as,c as St,B as ns,R as is,d as S}from"./router-xo99-RPC.js";import{R as ae,B as de,C as me,X as ue,Y as xe,T as ne,a as he,P as ls,b as os,c as cs}from"./charts-B0kA60lP.js";import{o as ct,s as dt,p as ds,a as ms,$ as us,b as _t,c as xs,d as ge,_ as hs,n as gs,u as ps}from"./forms-nhgmc8lX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Pt,mt=ss;Pt=mt.createRoot,mt.hydrateRoot;const Ke={id:"user-1",email:"john.doe@dut4life.ac.za",full_name:"John Doe",role:"student",student_number:"21012345",phone:"+27 82 123 4567",created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-15T10:00:00Z"},Ce=[Ke,{id:"user-2",email:"dr.smith@dut.ac.za",full_name:"Dr. Sarah Smith",role:"practitioner",specialization:"Physiotherapy",phone:"+27 31 373 2000",bio:"Specialized in sports injury rehabilitation with 10+ years experience.",created_at:"2024-01-10T09:00:00Z",updated_at:"2024-01-10T09:00:00Z"},{id:"user-3",email:"admin@dut.ac.za",full_name:"Health Coordinator",role:"admin",phone:"+27 31 373 2001",created_at:"2024-01-01T08:00:00Z",updated_at:"2024-01-01T08:00:00Z"},{id:"user-4",email:"jane.wilson@dut4life.ac.za",full_name:"Jane Wilson",role:"student",student_number:"21012346",phone:"+27 82 987 6543",created_at:"2024-01-20T11:00:00Z",updated_at:"2024-01-20T11:00:00Z"}],Ye=[{id:"injury-1",student_id:"user-1",injury_type:"Ankle Sprain",severity:"moderate",description:"Twisted ankle during rugby practice. Immediate swelling and pain.",body_part:"Left Ankle",date_occurred:"2024-01-20",date_reported:"2024-01-20T14:30:00Z",status:"in_treatment",activity_when_injured:"Rugby Practice",pain_level:6,created_at:"2024-01-20T14:30:00Z",updated_at:"2024-01-22T10:00:00Z"},{id:"injury-2",student_id:"user-4",injury_type:"Hamstring Strain",severity:"mild",description:"Felt tightness during sprint training, mild discomfort.",body_part:"Right Hamstring",date_occurred:"2024-01-25",date_reported:"2024-01-25T16:00:00Z",status:"reported",activity_when_injured:"Sprint Training",pain_level:3,created_at:"2024-01-25T16:00:00Z",updated_at:"2024-01-25T16:00:00Z"}],ys=[{id:"assignment-1",student_id:"user-1",practitioner_id:"user-2",injury_id:"injury-1",assigned_by:"user-3",assigned_at:"2024-01-21T09:00:00Z",active:!0,notes:"Priority case - athlete needs to return to competition soon.",created_at:"2024-01-21T09:00:00Z"}],fs=[{id:"appointment-1",student_id:"user-1",practitioner_id:"user-2",assignment_id:"assignment-1",appointment_date:"2024-01-30T10:00:00Z",duration_minutes:60,status:"scheduled",location:"DUT Health Center - Room 201",notes:"Follow-up session for ankle rehabilitation",created_at:"2024-01-22T15:00:00Z",updated_at:"2024-01-22T15:00:00Z"},{id:"appointment-2",student_id:"user-1",practitioner_id:"user-2",assignment_id:"assignment-1",appointment_date:"2024-01-28T14:00:00Z",duration_minutes:45,status:"completed",location:"DUT Health Center - Room 201",notes:"Initial assessment and treatment plan",created_at:"2024-01-21T12:00:00Z",updated_at:"2024-01-28T15:00:00Z"}],js=[{id:"message-1",sender_id:"user-2",receiver_id:"user-1",assignment_id:"assignment-1",message:"Hi John, please make sure to ice your ankle for 15 minutes, 3 times daily. See you at our next appointment.",read:!1,sent_at:"2024-01-28T16:30:00Z"},{id:"message-2",sender_id:"user-1",receiver_id:"user-2",assignment_id:"assignment-1",message:"Thank you Dr. Smith. The swelling has reduced significantly since our last session.",read:!0,sent_at:"2024-01-29T08:15:00Z"}],ut=[{id:"log-1",assignment_id:"assignment-1",practitioner_id:"user-2",progress_notes:"Patient showing good progress. Swelling reduced by 70%. Range of motion improving.",exercises:"Ankle circles (3x10), Calf raises (3x15), Balance exercises (2x30s)",pain_level:4,mobility_score:7,next_session_plan:"Continue current exercises, introduce light jogging if pain allows.",date_logged:"2024-01-28T14:45:00Z",created_at:"2024-01-28T14:45:00Z"}],Se={signIn:async(s,t)=>(await new Promise(r=>setTimeout(r,1e3)),s&&t?{user:Ke,error:null}:{user:null,error:{message:"Invalid credentials"}}),signUp:async s=>(await new Promise(t=>setTimeout(t,1500)),{user:{...Ke,...s},error:null}),signOut:async()=>(await new Promise(s=>setTimeout(s,500)),{error:null}),getCurrentUser:()=>null},Z={getInjuries:async s=>(await new Promise(t=>setTimeout(t,500)),s?Ye.filter(t=>t.student_id===s):Ye),createInjury:async s=>{await new Promise(r=>setTimeout(r,1e3));const t={id:`injury-${Date.now()}`,...s,status:"reported",date_reported:new Date().toISOString(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Ye.push(t),t},getAssignments:async(s,t)=>{await new Promise(a=>setTimeout(a,500));let r=ys;return s&&(r=r.filter(a=>a.practitioner_id===s)),t&&(r=r.filter(a=>a.student_id===t)),r},getAppointments:async(s,t)=>(await new Promise(r=>setTimeout(r,500)),fs.filter(r=>t==="student"?r.student_id===s:r.practitioner_id===s)),getMessages:async s=>(await new Promise(t=>setTimeout(t,500)),js.filter(t=>t.sender_id===s||t.receiver_id===s)),getRecoveryLogs:async s=>(await new Promise(t=>setTimeout(t,500)),s?ut.filter(t=>t.practitioner_id===s):ut),getUsers:async s=>(await new Promise(t=>setTimeout(t,500)),s?Ce.filter(t=>t.role===s):Ce),getPlanTemplates:async()=>(await new Promise(t=>setTimeout(t,300)),[{id:"tpl-ankle-sprain",name:"Ankle Sprain (Moderate) - Generic",injury_type:"Ankle Sprain",phases:[{title:"Acute (Days 1-3)",exercises:[{name:"Rest/Ice/Elevation"},{name:"Ankle Alphabet"}]},{title:"Subacute (Days 4-10)",exercises:[{name:"Calf Raises",sets:3,reps:15},{name:"Single-leg Balance"}]}]},{id:"tpl-hamstring-mild",name:"Hamstring Strain (Mild) - Running",injury_type:"Hamstring Strain",sport:"Athletics",phases:[{title:"Phase 1",exercises:[{name:"Isometrics",sets:3,reps:10}]},{title:"Phase 2",exercises:[{name:"Eccentric Nordic",sets:3,reps:6}]}]}]),createPlanFromTemplate:async(s,t,r)=>(await new Promise(n=>setTimeout(n,500)),{id:`plan-${Date.now()}`,assignment_id:s,template_id:t,title:r||"Personalized Plan",phases:[{title:"Phase 1",exercises:[{name:"Exercise A"},{name:"Exercise B"}]}],created_at:new Date().toISOString()})};var pt;const Ct=((pt=import.meta)==null?void 0:pt.env)||{},xt=Ct.VITE_SUPABASE_URL,ht=Ct.VITE_SUPABASE_ANON_KEY,b=xt&&ht?rs(xt,ht):null,R=!!b;var bs={};const Ge=bs.VITE_ENABLE_LOGGING==="true",w={debug:(s,...t)=>{Ge&&console.log(`[DEBUG] ${s}`,...t)},info:(s,...t)=>{Ge&&console.info(`[INFO] ${s}`,...t)},warn:(s,...t)=>{Ge&&console.warn(`[WARN] ${s}`,...t)},error:(s,t,...r)=>{console.error(`[ERROR] ${s}`,t,...r)}};function C(){const[s,t]=m.useState(null),[r,a]=m.useState(null),[n,i]=m.useState(!0);return m.useEffect(()=>{},[s]),m.useEffect(()=>{(async()=>{try{if(R&&b){const o=b,{data:x}=await o.auth.getSession(),y=x.session;if(y!=null&&y.user){const{data:j}=await o.from("profiles").select("*").eq("id",y.user.id).single(),v=j?{id:j.id,email:j.email,full_name:j.full_name,role:j.role,profile_pic:j.profile_pic??void 0,phone:j.phone??void 0,student_number:j.student_number??void 0,specialization:j.specialization??void 0,bio:j.bio??void 0,created_at:j.created_at,updated_at:j.updated_at}:null;t(v),a(v)}else t(null),a(null);o.auth.onAuthStateChange(async(j,v)=>{if(v!=null&&v.user){const{data:P}=await o.from("profiles").select("*").eq("id",v.user.id).single(),D=P?{id:P.id,email:P.email,full_name:P.full_name,role:P.role,profile_pic:P.profile_pic??void 0,phone:P.phone??void 0,student_number:P.student_number??void 0,specialization:P.specialization??void 0,bio:P.bio??void 0,created_at:P.created_at,updated_at:P.updated_at}:null;t(D),a(D)}else t(null),a(null)})}else await new Promise(x=>setTimeout(x,300)),Se.getCurrentUser()||(t(null),a(null))}catch(o){w.error("Auth initialization error:",o)}finally{i(!1)}})()},[]),{user:s,profile:r,loading:n,signIn:async(l,o)=>{i(!0);try{if(R&&b){const{data:x,error:y}=await b.auth.signInWithPassword({email:l,password:o});if(y)return{error:y};const j=x.user;if(!j)return{error:new Error("No user returned")};const{data:v,error:P}=await b.from("profiles").select("*").eq("id",j.id).single();if(P)return{error:P};const D={id:v.id,email:v.email,full_name:v.full_name,role:v.role,profile_pic:v.profile_pic??void 0,phone:v.phone??void 0,student_number:v.student_number??void 0,specialization:v.specialization??void 0,bio:v.bio??void 0,created_at:v.created_at,updated_at:v.updated_at};return t(D),a(D),{error:null}}else{const{user:x,error:y}=await Se.signIn(l,o);return y?{error:y}:(x&&(t(x),a(x)),{error:null})}}catch(x){return{error:x instanceof Error?x:new Error("Sign in failed")}}finally{i(!1)}},signUp:async l=>{i(!0);try{if(R&&b){const{data:o,error:x}=await b.auth.signUp({email:l.email,password:l.password});if(x)return{error:x};const y=o.user;if(!o.session)return{error:null,pendingVerification:!0};if(!y)return{error:new Error("No user created")};const{error:j}=await b.from("profiles").upsert({id:y.id,email:l.email,full_name:l.fullName,role:l.role,phone:l.phone||null,student_number:l.studentNumber||null,sport:l.sport||null,specialization:l.specialization||null});if(j)return{error:j};const v={id:y.id,email:l.email,full_name:l.fullName,role:l.role,phone:l.phone,student_number:l.studentNumber,sport:l.sport,specialization:l.specialization,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return t(v),a(v),{error:null}}else{const{user:o,error:x}=await Se.signUp(l);return x?{error:x}:(o&&(t(o),a(o)),{error:null})}}catch(o){return{error:o instanceof Error?o:new Error("Sign up failed")}}finally{i(!1)}},signOut:async()=>{try{R&&b?await b.auth.signOut():await Se.signOut()}catch(l){w.error("Sign out error:",l)}finally{t(null),a(null)}},requestPasswordReset:async l=>{i(!0);try{if(R&&b){const{error:o}=await b.auth.resetPasswordForEmail(l,{redirectTo:`${window.location.origin}/reset-password`});return{error:o||null}}else return await new Promise(o=>setTimeout(o,500)),{error:null}}catch(o){return{error:o instanceof Error?o:new Error("Password reset failed")}}finally{i(!1)}},updatePassword:async l=>{i(!0);try{if(R&&b){const{error:o}=await b.auth.updateUser({password:l});return{error:o||null}}else return await new Promise(o=>setTimeout(o,500)),{error:null}}catch(o){return{error:o instanceof Error?o:new Error("Update password failed")}}finally{i(!1)}},isAdmin:(r==null?void 0:r.role)==="admin",isPractitioner:(r==null?void 0:r.role)==="practitioner",isStudent:(r==null?void 0:r.role)==="student",setProfile:a}}class vs{async getInjuries(t){if(R&&b)try{let r=b.from("injuries").select("*");t&&(r=r.eq("student_id",t));const{data:a,error:n}=await r;if(n)throw n;return a||[]}catch(r){throw w.error("Error fetching injuries:",r),r}else return Z.getInjuries(t)}async createInjury(t){if(R&&b)try{const{data:r,error:a}=await b.from("injuries").insert({...t,date_reported:new Date().toISOString()}).select().single();if(a)throw a;return r}catch(r){throw w.error("Error creating injury:",r),r}else return Z.createInjury(t)}async getAssignments(t,r){if(R&&b)try{let a=b.from("practitioner_assignments").select("*");t&&(a=a.eq("practitioner_id",t)),r&&(a=a.eq("student_id",r));const{data:n,error:i}=await a;if(i)throw i;return n||[]}catch(a){throw w.error("Error fetching assignments:",a),a}else return Z.getAssignments(t,r)}async getAppointments(t,r){if(R&&b)try{let a=b.from("appointments").select("*");r==="student"?a=a.eq("student_id",t):r==="practitioner"&&(a=a.eq("practitioner_id",t));const{data:n,error:i}=await a;if(i)throw i;return n||[]}catch(a){throw w.error("Error fetching appointments:",a),a}else return Z.getAppointments(t,r)}async createAppointment(t){if(R&&b)try{const{data:r,error:a}=await b.from("appointments").insert(t).select().single();if(a)throw a;return r}catch(r){throw w.error("Error creating appointment:",r),r}else return{id:`appointment-${Date.now()}`,...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}async getMessages(t){if(R&&b)try{const{data:r,error:a}=await b.from("messages").select("*").or(`sender_id.eq.${t},receiver_id.eq.${t}`).order("sent_at",{ascending:!1});if(a)throw a;return r||[]}catch(r){throw w.error("Error fetching messages:",r),r}else return Z.getMessages(t)}async sendMessage(t){if(R&&b)try{const{data:r,error:a}=await b.from("messages").insert({...t,sent_at:new Date().toISOString()}).select().single();if(a)throw a;return r}catch(r){throw w.error("Error sending message:",r),r}else return{id:`message-${Date.now()}`,...t,sent_at:new Date().toISOString()}}async getRecoveryLogs(t){if(R&&b)try{let r=b.from("recovery_logs").select("*");t&&(r=r.eq("practitioner_id",t));const{data:a,error:n}=await r;if(n)throw n;return a||[]}catch(r){throw w.error("Error fetching recovery logs:",r),r}else return Z.getRecoveryLogs(t)}async createRecoveryLog(t){if(R&&b)try{const{data:r,error:a}=await b.from("recovery_logs").insert({...t,date_logged:new Date().toISOString()}).select().single();if(a)throw a;return r}catch(r){throw w.error("Error creating recovery log:",r),r}else return{id:`log-${Date.now()}`,...t,created_at:new Date().toISOString()}}async getUsers(t){if(R&&b)try{let r=b.from("profiles").select("*");t&&(r=r.eq("role",t));const{data:a,error:n}=await r;if(n)throw n;return a||[]}catch(r){throw w.error("Error fetching users:",r),r}else return Z.getUsers(t)}async getPlanTemplates(){if(R&&b)try{const{data:t,error:r}=await b.from("plan_templates").select("*").order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw w.error("Error fetching plan templates:",t),t}else return Z.getPlanTemplates()}async createPlanTemplate(t){if(R&&b)try{const{data:r,error:a}=await b.from("plan_templates").insert(t).select().single();if(a)throw a;return r}catch(r){throw w.error("Error creating plan template:",r),r}else return{id:`tpl-${Date.now()}`,...t,created_at:new Date().toISOString()}}async createPlanFromTemplate(t,r,a){if(R&&b)try{const{data:n,error:i}=await b.from("plan_templates").select("*").eq("id",r).single();if(i)throw i;const{data:d,error:h}=await b.from("treatment_plans").insert({assignment_id:t,template_id:r,title:a||n.name,phases:n.phases}).select().single();if(h)throw h;return d}catch(n){throw w.error("Error creating plan from template:",n),n}else return Z.createPlanFromTemplate(t,r,a)}async createDailyCheckIn(t){if(R&&b)try{const{data:r,error:a}=await b.from("daily_checkins").insert({...t,checkin_date:new Date().toISOString().split("T")[0]}).select().single();if(a)throw a;return r}catch(r){throw w.error("Error creating daily check-in:",r),r}else return new Promise(r=>{setTimeout(()=>{r({id:`checkin-${Date.now()}`,...t,checkin_date:new Date().toISOString().split("T")[0],created_at:new Date().toISOString()})},500)})}async uploadFile(t,r){var a;if(R&&b)try{const n=t.name.split(".").pop(),d=`uploads/${`${Date.now()}.${n}`}`,{data:h,error:g}=await b.storage.from("user-files").upload(d,t);if(g)throw g;const{data:u}=b.storage.from("user-files").getPublicUrl(d),{data:p,error:l}=await b.from("files").insert({uploaded_by:((a=(await b.auth.getUser()).data.user)==null?void 0:a.id)||"",assignment_id:r||null,file_url:u.publicUrl,file_type:t.type}).select().single();if(l)throw l;return{url:u.publicUrl,id:p.id}}catch(n){throw w.error("Error uploading file:",n),n}else return new Promise(n=>{setTimeout(()=>{n({url:URL.createObjectURL(t),id:`file-${Date.now()}`})},1e3)})}}const k=new vs;let ke=null;function K(s){ke&&ke(s)}function Ns(){const[s,t]=m.useState([]);return m.useEffect(()=>(ke=r=>{const a={id:Date.now(),...r};t(n=>[...n,a]),setTimeout(()=>{t(n=>n.filter(i=>i.id!==a.id))},3e3)},()=>{ke=null}),[]),e.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:s.map(r=>e.jsx("div",{className:`px-4 py-3 rounded shadow text-white ${r.type==="success"?"bg-green-600":r.type==="error"?"bg-red-600":"bg-blue-600"}`,children:r.message},r.id))})}function ws(){const{user:s,profile:t}=C(),r=m.useRef(new Set),a=m.useRef(null);m.useEffect(()=>{const n=async()=>{if(!(!s||!t))try{const i=await k.getNotificationPreferences(s.id);if(!(i!=null&&i.email_reminders))return;const d=t.role,h=await k.getAppointments(s.id,d),g=Date.now(),u=(i.reminder_window_minutes||120)*60*1e3;h.forEach(p=>{const l=new Date(p.appointment_date).getTime(),o=l-g;o>0&&o<=u&&p.status==="scheduled"&&(r.current.has(p.id)||(r.current.add(p.id),K({type:"info",message:`Upcoming appointment at ${new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`})))})}catch{}};return n(),a.current&&window.clearInterval(a.current),a.current=window.setInterval(n,60*1e3),()=>{a.current&&window.clearInterval(a.current)}},[s==null?void 0:s.id,t==null?void 0:t.role])}function Ss(){const{profile:s,isAdmin:t,isPractitioner:r,isStudent:a}=C(),i=(()=>{const d=[{to:"/dashboard",icon:ft,label:"Dashboard"},{to:"/appointments",icon:z,label:"Appointments"},{to:"/messages",icon:le,label:"Messages"},{to:"/files",icon:ye,label:"Files"}];return a?[...d,{to:"/report-injury",icon:H,label:"Report Injury"},{to:"/my-injuries",icon:B,label:"My Injuries"},{to:"/daily-checkin",icon:ie,label:"Daily Check-in"},{to:"/rtp-checklist",icon:tt,label:"RTP Checklist"},{to:"/learning-hub",icon:ye,label:"Learning Hub"},{to:"/onboarding",icon:M,label:"Onboarding"}]:r?[...d,{to:"/assigned-athletes",icon:M,label:"My Athletes"},{to:"/recovery-logs",icon:ie,label:"Recovery Logs"},{to:"/session-notes",icon:ye,label:"Session Notes"},{to:"/treatment-plans",icon:tt,label:"Treatment Plans"},{to:"/template-builder",icon:ie,label:"Template Builder"}]:t?[...d,{to:"/manage-users",icon:M,label:"Manage Users"},{to:"/assign-practitioners",icon:M,label:"Assignments"},{to:"/analytics",icon:yt,label:"Analytics"},{to:"/system-status",icon:et,label:"System Status"},{to:"/all-injuries",icon:B,label:"All Injuries"}]:d})();return e.jsxs(c.aside,{initial:{x:-250,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},className:"fixed left-0 top-16 h-[calc(100vh-4rem)] w-64 bg-white shadow-sm border-r border-gray-200 z-40",children:[e.jsxs("nav",{className:"p-6 space-y-2",children:[i.map(d=>e.jsxs(ot,{to:d.to,className:({isActive:h})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${h?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(d.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:d.label})]},d.to)),e.jsxs("div",{className:"pt-6 mt-6 border-t border-gray-200",children:[e.jsxs(ot,{to:"/settings",className:({isActive:d})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200 ${d?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(et,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Settings"})]}),e.jsx("div",{className:"mt-2 text-xs text-gray-500 px-4",children:e.jsx("span",{children:"Edit profile"})})]})]}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[s==null?void 0:s.role," Account"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s==null?void 0:s.email})]})})]})}function _s(){const{profile:s,signOut:t}=C(),[r,a]=m.useState(!1);return e.jsx(c.header,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-white shadow-sm border-b border-gray-200 h-16 fixed top-0 left-0 right-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"DUT"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Athletic Injury Management"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(je,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),e.jsxs("button",{className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Zt,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-2 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Q,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s==null?void 0:s.full_name})]}),r&&e.jsxs(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:s==null?void 0:s.role})]}),e.jsxs("a",{href:"/logout",className:"w-full flex items-center space-x-2 px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})]})]})})}function T({children:s}){return C(),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(_s,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Ss,{}),e.jsx(c.main,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex-1 p-6 ml-64",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]})]})}function E({children:s,requiredRole:t}){const{user:r,profile:a,loading:n}=C();return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"DUT"})}),e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})}):!r||!a?e.jsx(U,{to:"/login",replace:!0}):t&&a.role!==t?e.jsx(U,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:s})}function X({children:s,title:t,subtitle:r}){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(c.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-16 w-16 bg-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"DUT"})}),e.jsx(c.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-6 text-3xl font-extrabold text-gray-900",children:t}),e.jsx(c.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-2 text-sm text-gray-600",children:r})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 space-y-6 bg-white py-8 px-6 shadow-xl rounded-lg",children:s})]})})}function Ps(){const[s,t]=m.useState(""),[r,a]=m.useState(""),[n,i]=m.useState(!1),[d,h]=m.useState(!1),[g,u]=m.useState(""),{signIn:p}=C(),l=Ee(),o=async x=>{x.preventDefault(),h(!0),u("");try{const{error:y}=await p(s,r);y?u(y.message):l("/dashboard")}catch{u("An unexpected error occurred")}finally{h(!1)}};return e.jsxs("form",{className:"space-y-6",onSubmit:o,children:[g&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:g}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:x=>t(x.target.value),required:!0,className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your DUT email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"password",type:n?"text":"password",value:r,onChange:x=>a(x.target.value),required:!0,className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(_e,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})})]})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Signing In...":"Sign In"}),e.jsxs("div",{className:"text-center space-x-4",children:[e.jsx(L,{to:"/register",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Don't have an account? Create one here"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx(L,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Forgot password?"})]})]})}function Cs(){const[s,t]=m.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"student",phone:"",studentNumber:"",sport:"",specialization:""}),[r,a]=m.useState(!1),[n,i]=m.useState(!1),[d,h]=m.useState(""),{signUp:g}=C(),u=Ee(),p=async l=>{if(l.preventDefault(),i(!0),h(""),s.password!==s.confirmPassword){h("Passwords do not match"),i(!1);return}try{const o=await g(s);o!=null&&o.error?h(o.error.message):o!=null&&o.pendingVerification?u("/verify-email",{state:{email:s.email}}):u("/dashboard")}catch{h("An unexpected error occurred")}finally{i(!1)}};return e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[d&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"fullName",type:"text",value:s.fullName,onChange:l=>t({...s,fullName:l.target.value}),required:!0,className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your full name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"DUT Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"email",type:"email",value:s.email,onChange:l=>t({...s,email:l.target.value}),required:!0,className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"your.email@dut4life.ac.za"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{id:"role",value:s.role,onChange:l=>t({...s,role:l.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:[e.jsx("option",{value:"student",children:"Student Athlete"}),e.jsx("option",{value:"practitioner",children:"Health Practitioner"}),e.jsx("option",{value:"admin",children:"Health Coordinator"})]})]}),s.role==="student"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"studentNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"studentNumber",type:"text",value:s.studentNumber,onChange:l=>t({...s,studentNumber:l.target.value}),className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., 21012345"})]})]}),s.role==="student"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sport",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sport"}),e.jsx("input",{id:"sport",type:"text",value:s.sport,onChange:l=>t({...s,sport:l.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., Rugby, Soccer, Athletics"})]}),s.role==="practitioner"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"specialization",className:"block text-sm font-medium text-gray-700 mb-1",children:"Specialization"}),e.jsx("input",{id:"specialization",type:"text",value:s.specialization,onChange:l=>t({...s,specialization:l.target.value}),className:"w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"e.g., Physiotherapy, Sports Medicine"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"phone",type:"tel",value:s.phone,onChange:l=>t({...s,phone:l.target.value}),className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"+27 XX XXX XXXX"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"password",type:r?"text":"password",value:s.password,onChange:l=>t({...s,password:l.target.value}),required:!0,className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Create a strong password"}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?e.jsx(_e,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"confirmPassword",type:"password",value:s.confirmPassword,onChange:l=>t({...s,confirmPassword:l.target.value}),required:!0,className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm your password"})]})]})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Creating Account...":"Get Started - Create Account"}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"By creating an account, you'll be able to report injuries, track recovery, and communicate with health practitioners."}),e.jsx(L,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Already have an account? Sign in instead"})]})]})}function ks({onRetry:s,canRetry:t,isRetrying:r,error:a,className:n=""}){return!a&&!t?null:e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,disabled:!t||r,className:`
        inline-flex items-center space-x-2 px-4 py-2 rounded-lg font-medium
        transition-colors duration-200
        ${t&&!r?"bg-red-600 text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2":"bg-gray-400 text-gray-200 cursor-not-allowed"}
        ${n}
      `,children:r?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Retrying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry"})]})})}class kt extends m.Component{constructor(t){super(t),this.handleRetry=()=>{this.setState(r=>({hasError:!1,error:void 0,errorInfo:void 0,retryCount:r.retryCount+1}))},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,retryCount:0}}componentDidCatch(t,r){w.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(te,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,e.jsxs("div",{className:"space-y-3",children:[e.jsx(ks,{onRetry:this.handleRetry,canRetry:this.state.retryCount<3,isRetrying:!1,error:this.state.error,className:"w-full"}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(ft,{className:"w-4 h-4"}),e.jsx("span",{children:"Go Home"})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Refresh Page"})]}),this.state.retryCount>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:["Retry attempts: ",this.state.retryCount,"/3"]})]})}):this.props.children}}function At({size:s="md",text:t,className:r=""}){const a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return e.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[e.jsx(c.div,{className:`${a[s]} border-2 border-blue-200 border-t-blue-600 rounded-full`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),t&&e.jsx(c.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-2 text-sm text-gray-600",children:t})]})}function As(){return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"DUT"})}),e.jsx(At,{size:"lg",text:"Loading DUT Athletic Injury Management..."})]})})}function Ts(){const{user:s}=C(),[t,r]=m.useState({activeInjuries:0,upcomingAppointments:0,unreadMessages:0,totalInjuries:0}),[a,n]=m.useState([]),[i,d]=m.useState(!0);m.useEffect(()=>{s&&h()},[s]);const h=async()=>{if(s)try{d(!0);const p=await k.getInjuries(s.id),l=p.filter(v=>["reported","assigned","in_treatment","recovering"].includes(v.status)),x=(await k.getAppointments(s.id,"student")).filter(v=>new Date(v.appointment_date)>new Date&&v.status==="scheduled"),j=(await k.getMessages(s.id)).filter(v=>v.receiver_id===s.id&&!v.read);r({activeInjuries:l.length,upcomingAppointments:x.length,unreadMessages:j.length,totalInjuries:p.length}),n(p.slice(0,3))}catch(p){w.error("Error fetching dashboard data:",p)}finally{d(!1)}},g=p=>{switch(p){case"mild":return"bg-yellow-100 text-yellow-800";case"moderate":return"bg-orange-100 text-orange-800";case"severe":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},u=p=>{switch(p){case"reported":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"in_treatment":return"bg-indigo-100 text-indigo-800";case"recovering":return"bg-green-100 text-green-800";case"resolved":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your injury recovery and manage appointments"})]}),e.jsx(L,{to:"/report-injury",children:e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Report Injury"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Injuries"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeInjuries})]}),e.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.upcomingAppointments})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unread Messages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.unreadMessages})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Injuries"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalInjuries})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Injuries"})}),e.jsx("div",{className:"p-6",children:a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p.injury_type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.body_part}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Reported: ",new Date(p.date_reported).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(p.severity)}`,children:p.severity}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(p.status)}`,children:p.status.replace("_"," ")})]})]},p.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(B,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No injuries reported"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Keep up the good work staying injury-free!"}),e.jsx(L,{to:"/report-injury",children:e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Report an Injury"})})]})})]})]})}function Es(){const{user:s}=C(),[t,r]=m.useState({assignedAthletes:0,todayAppointments:0,pendingUpdates:0,completedTreatments:0}),[a,n]=m.useState([]),[i,d]=m.useState([]),[h,g]=m.useState(!0);m.useEffect(()=>{s&&u()},[s]);const u=async()=>{if(s)try{g(!0);const o=(await k.getAssignments(s.id)).filter(A=>A.active),x=o.map(A=>{const O=Ce.find(Y=>Y.id===A.student_id);return{...A,student:O,injury:{injury_type:"Ankle Sprain",severity:"moderate",body_part:"Left Ankle"}}}),y=await k.getAppointments(s.id,"practitioner"),j=new Date().toISOString().split("T")[0],v=y.filter(A=>A.appointment_date.startsWith(j)),P=y.filter(A=>new Date(A.appointment_date)>=new Date).slice(0,3).map(A=>({...A,student:Ce.find(O=>O.id===A.student_id)})),D=await Z.getRecoveryLogs(s.id);r({assignedAthletes:o.length,todayAppointments:v.length,pendingUpdates:Math.max(0,o.length-D.length),completedTreatments:D.length}),n(x.slice(0,3)),d(P)}catch(l){w.error("Error fetching dashboard data:",l)}finally{g(!1)}},p=l=>{switch(l){case"mild":return"bg-yellow-100 text-yellow-800";case"moderate":return"bg-orange-100 text-orange-800";case"severe":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}};return h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Practitioner Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your athletes and track their recovery progress"})]}),e.jsx(L,{to:"/recovery-logs",children:e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-green-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-green-700 transition-colors",children:[e.jsx(ie,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Recovery Log"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Assigned Athletes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.assignedAthletes})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.todayAppointments})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Updates"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.pendingUpdates})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-lg flex items-center justify-center",children:e.jsx(Ae,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Sessions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.completedTreatments})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Assignments"})}),e.jsx("div",{className:"p-6",children:a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(l=>{var o,x,y,j,v;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:(o=l.student)==null?void 0:o.full_name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[(x=l.injury)==null?void 0:x.injury_type," - ",(y=l.injury)==null?void 0:y.body_part]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Assigned: ",new Date(l.assigned_at).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(((j=l.injury)==null?void 0:j.severity)||"mild")}`,children:(v=l.injury)==null?void 0:v.severity})]},l.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No athletes assigned yet"})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Appointments"})}),e.jsx("div",{className:"p-6",children:i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(l=>{var o;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:(o=l.student)==null?void 0:o.full_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(l.appointment_date).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Duration: ",l.duration_minutes," minutes"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:l.status})})]},l.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No upcoming appointments"})]})})]})]})]})}function Rs(){const s=as(),t=Ee(),[r,a]=m.useState({totalStudents:0,totalPractitioners:0,activeInjuries:0,pendingAssignments:0,totalAppointments:0,recoveryRate:0}),[n,i]=m.useState([]),[d,h]=m.useState([]),[g,u]=m.useState(!0),[p,l]=m.useState([]),[o,x]=m.useState([]),[y,j]=m.useState([]),[v,P]=m.useState([]),[D,A]=m.useState(0),[O,Y]=m.useState(null),[Tt,Et]=m.useState([]),[be,Re]=m.useState(""),[ve,De]=m.useState(""),[Ne,Ie]=m.useState("all"),[we,Le]=m.useState("all");m.useEffect(()=>{const _=new URLSearchParams(s.search),q=_.get("start")||"",se=_.get("end")||"",J=_.get("sport")||"all",$=_.get("severity")||"all";Re(q),De(se),Ie(J),Le($),Rt(q,se,J,$)},[s.search]);const Rt=async(_=be,q=ve,se=Ne,J=we)=>{try{u(!0);const[$,G,W]=await Promise.all([k.getUsers("student"),k.getUsers("practitioner"),k.getInjuries()]),Ue=await k.getAppointments("","admin"),Me=await k.getAllInjuries(),Dt=await k.getAllRtpChecklists(),Je=_?new Date(_):null,Qe=q?new Date(q):null,ce=W.filter(f=>{const N=new Date(f.date_reported);if(Je&&N<Je||Qe&&N>Qe||J!=="all"&&f.severity!==J)return!1;if(se!=="all"){const I=$.find(Ze=>Ze.id===f.student_id),re=(I==null?void 0:I.sport)||"Unknown";if(re!==re)return!1}return!0});Et(ce);const It=W.filter(f=>["reported","assigned","in_treatment","recovering"].includes(f.status)).length,Lt=W.filter(f=>f.status==="reported").length,Ut=W.filter(f=>f.status==="resolved").length,Mt=W.length>0?Math.round(Ut/W.length*100):0;a({totalStudents:$.length,totalPractitioners:G.length,activeInjuries:It,pendingAssignments:Lt,totalAppointments:Ue.length,recoveryRate:Mt});const Fe={};ce.forEach(f=>{const N=new Date(f.date_reported),I=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}`;Fe[I]=(Fe[I]||0)+1});const Ft=Object.entries(Fe).sort(([f],[N])=>f.localeCompare(N)).map(([f,N])=>({month:f,injuries:N}));i(Ft);const Oe={};ce.forEach(f=>{const N=f.severity;Oe[N]=(Oe[N]||0)+1});const Ot={mild:"#fbbf24",moderate:"#fb923c",severe:"#ef4444",critical:"#dc2626"},$t=Object.entries(Oe).map(([f,N])=>({name:f,value:N,color:Ot[f]}));h($t);const $e={};ce.forEach(f=>{const N=$.find(re=>re.id===f.student_id),I=(N==null?void 0:N.sport)||"Unknown";$e[I]=($e[I]||0)+1}),j(Object.entries($e).map(([f,N])=>({name:f,value:N})));const qe={};ce.forEach(f=>{let N=0;if(typeof f.days_lost=="number")N=f.days_lost;else if(f.date_returned){const re=new Date(f.date_occurred||f.date_reported),Ze=new Date(f.date_returned);N=Math.max(0,Math.round((Ze.getTime()-re.getTime())/(1e3*60*60*24)))}else N=0;const I=f.severity||"mild";qe[I]=(qe[I]||0)+N}),P(Object.entries(qe).map(([f,N])=>({name:f,value:N})));const ze={};Me.forEach(f=>{const N=`${f.student_id}:${f.injury_type}`;ze[N]=(ze[N]||0)+1});const qt=Object.values(ze).filter(f=>f>1).length;A(Me.length?Math.round(qt/Me.length*100):0);const Be=Dt.filter(f=>f.status==="cleared"&&f.cleared_at);if(Be.length){const f=Math.round(Be.reduce((N,I)=>N+(new Date(I.cleared_at).getTime()-new Date(I.created_at).getTime()),0)/Be.length/864e5);Y(f)}else Y(null);const zt=$.reduce((f,N)=>{const I=N.sport||"Unknown";return f[I]=(f[I]||0)+1,f},{});x(Object.entries(zt).map(([f,N])=>({name:f,value:N})));const Bt=await k.getAssignments(),He={};Bt.forEach(f=>{f.active&&(He[f.practitioner_id]=(He[f.practitioner_id]||0)+1)});const Ht=new Map(G.map(f=>[f.id,f.full_name]));l(Object.entries(He).map(([f,N])=>({name:Ht.get(f)||f,value:N})))}catch($){w.error("Error fetching dashboard data:",$)}finally{u(!1)}};return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Start date"}),e.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:be,onChange:_=>Re(_.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"End date"}),e.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:ve,onChange:_=>De(_.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Sport"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:Ne,onChange:_=>Ie(_.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"Rugby",children:"Rugby"}),e.jsx("option",{value:"Soccer",children:"Soccer"}),e.jsx("option",{value:"Athletics",children:"Athletics"}),e.jsx("option",{value:"Basketball",children:"Basketball"}),e.jsx("option",{value:"Swimming",children:"Swimming"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Severity"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:we,onChange:_=>Le(_.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"mild",children:"Mild"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"severe",children:"Severe"}),e.jsx("option",{value:"critical",children:"Critical"})]})]})]}),e.jsxs("div",{className:"flex justify-end mt-3",children:[e.jsx("button",{className:"px-4 py-2 border rounded",onClick:()=>{const _=new URLSearchParams;be&&_.set("start",be),ve&&_.set("end",ve),Ne!=="all"&&_.set("sport",Ne),we!=="all"&&_.set("severity",we),t({search:_.toString()})},children:"Apply"}),e.jsx("button",{className:"ml-2 px-4 py-2 border rounded",onClick:()=>{Re(""),De(""),Ie("all"),Le("all"),t({search:""})},children:"Reset"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"System overview and analytics"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(L,{to:"/assign-practitioners",children:e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(bt,{className:"w-5 h-5"}),e.jsx("span",{children:"Assign Practitioner"})]})}),e.jsx(L,{to:"/analytics",children:e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-purple-700 transition-colors",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{children:"Full Analytics"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalStudents})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Practitioners"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalPractitioners})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Injuries"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.activeInjuries})]}),e.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Assignments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.pendingAssignments})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-6 h-6 text-orange-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Appointments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalAppointments})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-purple-600"})})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recovery Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.recoveryRate,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx(We,{className:"w-6 h-6 text-green-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Injury Trends"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(de,{data:n,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"month"}),e.jsx(xe,{}),e.jsx(ne,{}),e.jsx(he,{dataKey:"injuries",fill:"#3b82f6",radius:[4,4,0,0]})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Injury Severity Distribution"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(ls,{children:[e.jsx(os,{data:d,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:_,value:q})=>`${_}: ${q}`,children:d.map((_,q)=>e.jsx(cs,{fill:_.color},`cell-${q}`))}),e.jsx(ne,{})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Students by Sport"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(de,{data:o,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name"}),e.jsx(xe,{allowDecimals:!1}),e.jsx(ne,{}),e.jsx(he,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0]})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Practitioner Workload (Active Assignments)"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(de,{data:p,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name",interval:0,angle:-15,textAnchor:"end",height:60}),e.jsx(xe,{allowDecimals:!1}),e.jsx(ne,{}),e.jsx(he,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.75},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Injury Incidence by Sport"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(de,{data:y,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name",interval:0,angle:-15,textAnchor:"end",height:60}),e.jsx(xe,{allowDecimals:!1}),e.jsx(ne,{}),e.jsx(he,{dataKey:"value",fill:"#6366f1",radius:[4,4,0,0]})]})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estimated Time-loss by Severity (days)"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(de,{data:v,children:[e.jsx(me,{strokeDasharray:"3 3"}),e.jsx(ue,{dataKey:"name"}),e.jsx(xe,{allowDecimals:!1}),e.jsx(ne,{}),e.jsx(he,{dataKey:"value",fill:"#f97316",radius:[4,4,0,0]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Recurrence Rate"}),e.jsxs("div",{className:"text-3xl font-bold",children:[D,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Avg. RTP Time"}),e.jsx("div",{className:"text-3xl font-bold",children:O!==null?`${O} days`:"—"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-4 py-2 border rounded",onClick:()=>{const _=["id","student_id","injury_type","severity","body_part","date_reported","date_returned","days_lost","status"],q=Tt.map(W=>_.map(Ue=>JSON.stringify(W[Ue]??"")).join(",")),se=[_.join(","),...q].join(`
`),J=new Blob([se],{type:"text/csv;charset=utf-8;"}),$=URL.createObjectURL(J),G=document.createElement("a");G.href=$,G.download="injuries_export.csv",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL($)},children:"Export CSV"})})]})}function Ds(){const{profile:s}=C();if(!s)return null;switch(s.role){case"student":return e.jsx(Ts,{});case"practitioner":return e.jsx(Es,{});case"admin":return e.jsx(Rs,{});default:return e.jsx("div",{children:"Invalid role"})}}function Is(){const[s,t]=m.useState(""),[r,a]=m.useState(!1),[n,i]=m.useState(!1),[d,h]=m.useState(""),{requestPasswordReset:g}=C(),u=async p=>{p.preventDefault(),a(!0),h("");try{const{error:l}=await g(s);l?h(l.message):i(!0)}catch{h("An unexpected error occurred")}finally{a(!1)}};return n?e.jsx(X,{title:"Check Your Email",subtitle:"Password reset instructions sent",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ee,{className:"w-8 h-8 text-green-600"})}),e.jsxs("p",{className:"text-gray-600",children:["We've sent password reset instructions to ",e.jsx("strong",{children:s})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Check your email and follow the link to reset your password."}),e.jsxs(L,{to:"/login",className:"inline-flex items-center text-blue-600 hover:text-blue-500 font-medium",children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):e.jsx(X,{title:"Forgot Password",subtitle:"Enter your email to reset your password",children:e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[d&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:p=>t(p.target.value),required:!0,className:"pl-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter your DUT email"})]})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Sending...":"Send Reset Instructions"}),e.jsx("div",{className:"text-center",children:e.jsxs(L,{to:"/login",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-500 font-medium",children:[e.jsx(st,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})]})})}function Ls(){const[s,t]=m.useState(""),[r,a]=m.useState(""),[n,i]=m.useState(!1),[d,h]=m.useState(!1),[g,u]=m.useState(!1),[p,l]=m.useState(!1),[o,x]=m.useState(""),{updatePassword:y}=C(),[j]=St(),v=Ee();m.useEffect(()=>{const D=j.get("access_token"),A=j.get("refresh_token");(!D||!A)&&x("Invalid or missing reset token. Please request a new password reset.")},[j]);const P=async D=>{if(D.preventDefault(),u(!0),x(""),s!==r){x("Passwords do not match"),u(!1);return}if(s.length<6){x("Password must be at least 6 characters long"),u(!1);return}try{const{error:A}=await y(s);A?x(A.message):(l(!0),setTimeout(()=>{v("/login")},2e3))}catch{x("An unexpected error occurred")}finally{u(!1)}};return p?e.jsx(X,{title:"Password Updated",subtitle:"Your password has been successfully reset",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(F,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-gray-600",children:"Your password has been successfully updated."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You will be redirected to the login page shortly."}),e.jsx(L,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Login"})]})}):e.jsx(X,{title:"Reset Password",subtitle:"Enter your new password",children:e.jsxs("form",{className:"space-y-6",onSubmit:P,children:[o&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:o}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"password",type:n?"text":"password",value:s,onChange:D=>t(D.target.value),required:!0,className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(_e,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{id:"confirmPassword",type:d?"text":"password",value:r,onChange:D=>a(D.target.value),required:!0,className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?e.jsx(_e,{className:"w-5 h-5"}):e.jsx(oe,{className:"w-5 h-5"})})]})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:g,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Updating Password...":"Update Password"}),e.jsx("div",{className:"text-center",children:e.jsx(L,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Back to Sign In"})})]})})}function Us(){const[s,t]=m.useState("loading"),[r,a]=m.useState(""),[n]=St();m.useEffect(()=>{const g=n.get("token"),u=n.get("type");if(!g||u!=="signup"){t("error"),a("Invalid verification link");return}(async()=>{try{await new Promise(l=>setTimeout(l,2e3)),t("success"),a("Your email has been successfully verified!")}catch{t("error"),a("Failed to verify email. Please try again.")}})()},[n]);const i=async()=>{t("loading");try{await new Promise(g=>setTimeout(g,1e3)),t("success"),a("Verification email sent! Please check your inbox.")}catch{t("error"),a("Failed to send verification email. Please try again.")}},d=()=>{switch(s){case"loading":return e.jsx(Pe,{className:"w-8 h-8 text-blue-600 animate-spin"});case"success":return e.jsx(F,{className:"w-8 h-8 text-green-600"});case"error":case"expired":return e.jsx(vt,{className:"w-8 h-8 text-red-600"});default:return e.jsx(ee,{className:"w-8 h-8 text-gray-600"})}},h=()=>{switch(s){case"loading":return"bg-blue-100";case"success":return"bg-green-100";case"error":case"expired":return"bg-red-100";default:return"bg-gray-100"}};return e.jsx(X,{title:"Email Verification",subtitle:"Verify your email address to continue",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx(c.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:`w-16 h-16 ${h()} rounded-full flex items-center justify-center mx-auto`,children:d()}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[s==="loading"&&"Verifying your email...",s==="success"&&"Email Verified!",(s==="error"||s==="expired")&&"Verification Failed"]}),e.jsx("p",{className:"text-gray-600",children:r}),s==="success"&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"You can now access all features of the DUT Athletic Injury Management system."}),e.jsx(L,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Login"})]}),(s==="error"||s==="expired")&&e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[e.jsxs("button",{onClick:i,className:"inline-flex items-center bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Resend Verification Email"]}),e.jsx("div",{children:e.jsx(L,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Back to Sign In"})})]})]})]})})}function Ms(){const{signOut:s}=C();return m.useEffect(()=>{(async()=>{try{await s()}catch(r){w.error("Logout error:",r)}})()},[s]),e.jsx(X,{title:"Signing Out",subtitle:"Please wait while we sign you out",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Pe,{className:"w-8 h-8 text-blue-600 animate-spin"})}),e.jsx("p",{className:"text-gray-600",children:"You are being signed out of your account..."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You will be redirected to the login page shortly."})]})})}function gt(s,t){try{var r=s()}catch(a){return t(a)}return r&&r.then?r.then(void 0,t):r}function Fs(s,t){for(var r={};s.length;){var a=s[0],n=a.code,i=a.message,d=a.path.join(".");if(!r[d])if("unionErrors"in a){var h=a.unionErrors[0].errors[0];r[d]={message:h.message,type:h.code}}else r[d]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(p){return p.errors.forEach(function(l){return s.push(l)})}),t){var g=r[d].types,u=g&&g[a.code];r[d]=_t(d,t,r,n,u?[].concat(u,a.message):a.message)}s.shift()}return r}function Os(s,t){for(var r={};s.length;){var a=s[0],n=a.code,i=a.message,d=a.path.join(".");if(!r[d])if(a.code==="invalid_union"&&a.errors.length>0){var h=a.errors[0][0];r[d]={message:h.message,type:h.code}}else r[d]={message:i,type:n};if(a.code==="invalid_union"&&a.errors.forEach(function(p){return p.forEach(function(l){return s.push(l)})}),t){var g=r[d].types,u=g&&g[a.code];r[d]=_t(d,t,r,n,u?[].concat(u,a.message):a.message)}s.shift()}return r}function $s(s,t,r){if(r===void 0&&(r={}),function(a){return"_def"in a&&typeof a._def=="object"&&"typeName"in a._def}(s))return function(a,n,i){try{return Promise.resolve(gt(function(){return Promise.resolve(s[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return i.shouldUseNativeValidation&&ct({},i),{errors:{},values:r.raw?Object.assign({},a):d}})},function(d){if(function(h){return Array.isArray(h==null?void 0:h.issues)}(d))return{values:{},errors:dt(Fs(d.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw d}))}catch(d){return Promise.reject(d)}};if(function(a){return"_zod"in a&&typeof a._zod=="object"}(s))return function(a,n,i){try{return Promise.resolve(gt(function(){return Promise.resolve((r.mode==="sync"?ds:ms)(s,a,t)).then(function(d){return i.shouldUseNativeValidation&&ct({},i),{errors:{},values:r.raw?Object.assign({},a):d}})},function(d){if(function(h){return h instanceof us}(d))return{values:{},errors:dt(Os(d.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw d}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}function qs(s={}){const{maxRetries:t=3,retryDelay:r=1e3,exponentialBackoff:a=!0}=s,[n,i]=m.useState({hasError:!1,error:null,retryCount:0,lastRetryTime:null}),d=m.useCallback((l,o)=>{w.error(`Error in ${o||"unknown context"}:`,l),i(y=>({hasError:!0,error:l,retryCount:y.retryCount+1,lastRetryTime:Date.now()}));const x=zs(l,o);K({type:"error",message:x,duration:5e3})},[]),h=m.useCallback(()=>{i({hasError:!1,error:null,retryCount:0,lastRetryTime:null})},[]),g=m.useCallback(async l=>{if(n.retryCount>=t){K({type:"error",message:"Maximum retry attempts reached. Please refresh the page or contact support."});return}const o=a?r*Math.pow(2,n.retryCount):r;K({type:"info",message:`Retrying... (${n.retryCount+1}/${t})`,duration:o}),await new Promise(x=>setTimeout(x,o));try{h(),await l()}catch(x){d(x,"retry operation")}},[n.retryCount,t,r,a,h,d]),u=n.retryCount<t,p=n.lastRetryTime&&Date.now()-n.lastRetryTime<5e3;return{...n,handleError:d,clearError:h,retry:g,canRetry:u,isRetrying:p}}function zs(s,t){const r=s.message.toLowerCase();return r.includes("fetch")||r.includes("network")||r.includes("connection")?"Network error. Please check your internet connection and try again.":r.includes("auth")||r.includes("unauthorized")||r.includes("401")?"Authentication error. Please log in again.":r.includes("forbidden")||r.includes("403")?"You don't have permission to perform this action.":r.includes("not found")||r.includes("404")?"The requested resource was not found.":r.includes("500")||r.includes("server error")?"Server error. Please try again later or contact support.":r.includes("timeout")?"Request timed out. Please try again.":r.includes("validation")||r.includes("invalid")?"Invalid data provided. Please check your input and try again.":t?`Error in ${t}. Please try again.`:"An unexpected error occurred. Please try again."}function Bs(s,t){const[r,a]=m.useState(!1),{handleError:n}=qs();return{execute:m.useCallback(async(...d)=>{var h,g;a(!0);try{const u=await s(...d);return(h=t==null?void 0:t.onSuccess)==null||h.call(t,u),t!=null&&t.showSuccessToast&&K({type:"success",message:t.successMessage||"Operation completed successfully"}),u}catch(u){const p=u instanceof Error?u:new Error("Unknown error");throw(g=t==null?void 0:t.onError)==null||g.call(t,p),n(p,"async operation"),u}finally{a(!1)}},[s,t,n]),loading:r}}const Hs=xs({injuryType:ge().min(1,"Injury type is required"),bodyPart:ge().min(1,"Body part is required"),severity:hs(["mild","moderate","severe","critical"]),description:ge().min(10,"Description must be at least 10 characters"),dateOccurred:ge().min(1,"Date occurred is required"),activityWhenInjured:ge().optional(),painLevel:gs().min(0).max(10).optional()});function Zs(){const{user:s}=C(),{register:t,handleSubmit:r,formState:{errors:a},reset:n}=ps({resolver:$s(Hs)}),{execute:i,loading:d}=Bs(async u=>{if(!s)throw new Error("User not authenticated");const p={student_id:s.id,injury_type:u.injuryType,body_part:u.bodyPart,severity:u.severity,description:u.description,date_occurred:u.dateOccurred,activity_when_injured:u.activityWhenInjured,pain_level:u.painLevel};return await k.createInjury(p)},{onSuccess:()=>{K({type:"success",message:"Injury reported successfully!"}),n()},showSuccessToast:!1}),h=u=>{i(u)},g=[{value:"mild",label:"Mild",color:"text-yellow-600"},{value:"moderate",label:"Moderate",color:"text-orange-600"},{value:"severe",label:"Severe",color:"text-red-600"},{value:"critical",label:"Critical",color:"text-red-800"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(te,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Report Injury"}),e.jsx("p",{className:"text-gray-600",children:"Report a new injury to get help from our medical team"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Injury Details"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Please provide detailed information about your injury"})]}),e.jsxs("form",{onSubmit:r(h),className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Injury Type *"}),e.jsx("input",{...t("injuryType"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Ankle sprain, Hamstring strain"}),a.injuryType&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.injuryType.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body Part *"}),e.jsx("input",{...t("bodyPart"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Left ankle, Right knee"}),a.bodyPart&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.bodyPart.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:g.map(u=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{...t("severity"),type:"radio",value:u.value,className:"text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:`text-sm font-medium ${u.color}`,children:u.label})]},u.value))}),a.severity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.severity.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{...t("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your injury in detail, including symptoms and how it occurred..."}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Injury *"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{...t("dateOccurred"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.dateOccurred&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.dateOccurred.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity When Injured"}),e.jsxs("div",{className:"relative",children:[e.jsx(Nt,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{...t("activityWhenInjured"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Rugby practice, Gym workout"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pain Level (0-10)"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{...t("painLevel",{valueAsNumber:!0}),type:"range",min:"0",max:"10",className:"flex-1"}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem] text-center",children:t("painLevel").value||0})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"No pain"}),e.jsx("span",{children:"Severe pain"})]})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:d,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:d?e.jsx(At,{size:"sm",text:"Reporting Injury..."}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Report Injury"})]})})]})]})]})}function Vs(){const{user:s}=C(),[t,r]=m.useState([]),[a,n]=m.useState(!0),[i,d]=m.useState("all");m.useEffect(()=>{s&&h()},[s]);const h=async()=>{if(s)try{n(!0);const l=await k.getInjuries(s.id);r(l)}catch(l){w.error("Error fetching injuries:",l)}finally{n(!1)}},g=l=>{switch(l){case"mild":return"bg-yellow-100 text-yellow-800";case"moderate":return"bg-orange-100 text-orange-800";case"severe":return"bg-red-100 text-red-800";case"critical":return"bg-red-200 text-red-900";default:return"bg-gray-100 text-gray-800"}},u=l=>{switch(l){case"reported":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"in_treatment":return"bg-indigo-100 text-indigo-800";case"recovering":return"bg-green-100 text-green-800";case"resolved":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=t.filter(l=>i==="active"?["reported","assigned","in_treatment","recovering"].includes(l.status):i==="resolved"?l.status==="resolved":!0);return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Injuries"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage your injury reports"})]})]}),e.jsx(L,{to:"/report-injury",children:e.jsxs(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Report New Injury"})]})})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsx("div",{className:"flex space-x-1",children:[{key:"all",label:"All Injuries",count:t.length},{key:"active",label:"Active",count:t.filter(l=>["reported","assigned","in_treatment","recovering"].includes(l.status)).length},{key:"resolved",label:"Resolved",count:t.filter(l=>l.status==="resolved").length}].map(l=>e.jsxs("button",{onClick:()=>d(l.key),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i===l.key?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[l.label," (",l.count,")"]},l.key))})}),e.jsx("div",{className:"space-y-4",children:p.length>0?p.map((l,o)=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.injury_type}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(l.severity)}`,children:l.severity}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(l.status)}`,children:l.status.replace("_"," ")})]}),e.jsx("p",{className:"text-gray-600 mb-2",children:l.body_part}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsxs("span",{children:["Occurred: ",new Date(l.date_occurred).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(te,{className:"w-4 h-4"}),e.jsxs("span",{children:["Reported: ",new Date(l.date_reported).toLocaleDateString()]})]}),l.pain_level&&e.jsx("div",{className:"flex items-center space-x-1",children:e.jsxs("span",{children:["Pain Level: ",l.pain_level,"/10"]})})]})]}),e.jsx("button",{className:"ml-4 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(oe,{className:"w-5 h-5"})})]})},l.id)):e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(B,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i==="all"?"No injuries reported":`No ${i} injuries`}),e.jsx("p",{className:"text-gray-600 mb-4",children:i==="all"?"You haven't reported any injuries yet.":`You don't have any ${i} injuries at the moment.`}),i==="all"&&e.jsx(L,{to:"/report-injury",children:e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Report Your First Injury"})})]})})]})}const V=[{id:"profile",title:"Complete Your Profile",description:"Add your personal information, sport, and contact details",icon:Q,completed:!1},{id:"emergency",title:"Emergency Contacts",description:"Add emergency contact information for safety",icon:Gt,completed:!1},{id:"medical",title:"Medical Information",description:"Provide medical history and current conditions",icon:jt,completed:!1}];function Ys(){C();const[s,t]=m.useState(0),[r,a]=m.useState([]),n=u=>{r.includes(u)||a([...r,u])},i=()=>{s<V.length-1&&t(s+1)},d=()=>{s>0&&t(s-1)},h=u=>r.includes(u),g=r.length===V.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to DUT Athletic Injury Management"}),e.jsx("p",{className:"text-gray-600",children:"Let's get you set up with your profile and preferences"})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Setup Progress"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," of ",V.length," completed"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:e.jsx(c.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${r.length/V.length*100}%`},transition:{duration:.5}})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:V.map((u,p)=>{const l=u.icon,o=h(u.id),x=p===s;return e.jsx("div",{className:`p-4 rounded-lg border-2 transition-colors ${o?"border-green-200 bg-green-50":x?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o?"bg-green-100 text-green-600":x?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:o?e.jsx(F,{className:"w-5 h-5"}):e.jsx(l,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:u.title}),e.jsx("p",{className:"text-sm text-gray-600",children:u.description})]})]})},u.id)})})]}),e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:React.createElement(V[s].icon,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:V[s].title}),e.jsx("p",{className:"text-gray-600",children:V[s].description})]})]}),s===0&&e.jsx(Gs,{onComplete:()=>n("profile")}),s===1&&e.jsx(Ws,{onComplete:()=>n("emergency")}),s===2&&e.jsx(Ks,{onComplete:()=>n("medical")}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{onClick:d,disabled:s===0,className:"px-4 py-2 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s<V.length-1?e.jsxs("button",{onClick:i,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx("span",{children:"Next"}),e.jsx(Yt,{className:"w-4 h-4"})]}):e.jsxs("button",{onClick:()=>{w.debug("Onboarding completed!")},disabled:!g,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Complete Setup"})]})]})]},s)]})}function Gs({onComplete:s}){const[t,r]=m.useState({sport:"",position:"",dominantSide:"",phone:""}),a=n=>{n.preventDefault(),w.debug("Profile data:",t),s()};return e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sport"}),e.jsxs("select",{value:t.sport,onChange:n=>r({...t,sport:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select your sport"}),e.jsx("option",{value:"rugby",children:"Rugby"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"athletics",children:"Athletics"}),e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),e.jsx("input",{type:"text",value:t.position,onChange:n=>r({...t,position:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Forward, Midfielder"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dominant Side"}),e.jsxs("select",{value:t.dominantSide,onChange:n=>r({...t,dominantSide:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select dominant side"}),e.jsx("option",{value:"left",children:"Left"}),e.jsx("option",{value:"right",children:"Right"}),e.jsx("option",{value:"ambidextrous",children:"Ambidextrous"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:t.phone,onChange:n=>r({...t,phone:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+27 82 123 4567"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Profile Information"})]})}function Ws({onComplete:s}){const[t,r]=m.useState({emergencyContact:"",emergencyPhone:"",relationship:""}),a=n=>{n.preventDefault(),w.debug("Emergency contact data:",t),s()};return e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),e.jsx("input",{type:"text",value:t.emergencyContact,onChange:n=>r({...t,emergencyContact:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:t.emergencyPhone,onChange:n=>r({...t,emergencyPhone:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+27 82 123 4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),e.jsxs("select",{value:t.relationship,onChange:n=>r({...t,relationship:n.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select relationship"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"guardian",children:"Guardian"}),e.jsx("option",{value:"spouse",children:"Spouse"}),e.jsx("option",{value:"sibling",children:"Sibling"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Emergency Contact"})]})}function Ks({onComplete:s}){const[t,r]=m.useState({medicalHistory:"",currentConditions:"",medications:"",allergies:""}),a=n=>{n.preventDefault(),w.debug("Medical data:",t),s()};return e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),e.jsx("textarea",{value:t.medicalHistory,onChange:n=>r({...t,medicalHistory:n.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any previous injuries, surgeries, or medical conditions..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medical Conditions"}),e.jsx("textarea",{value:t.currentConditions,onChange:n=>r({...t,currentConditions:n.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any ongoing medical conditions..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),e.jsx("textarea",{value:t.medications,onChange:n=>r({...t,medications:n.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any medications you're currently taking..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Allergies"}),e.jsx("textarea",{value:t.allergies,onChange:n=>r({...t,allergies:n.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"List any allergies..."})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Medical Information"})]})}function Xs(){const{user:s}=C(),[t,r]=m.useState(!1),[a,n]=m.useState(!1),[i,d]=m.useState({painLevel:0,swelling:0,rom:0,notes:""}),h=async g=>{if(g.preventDefault(),!!s){r(!0);try{await k.createDailyCheckIn({student_id:s.id,pain_level:i.painLevel,swelling:i.swelling,rom:i.rom,notes:i.notes}),K({type:"success",message:"Daily check-in submitted successfully!"}),n(!0)}catch(u){w.error("Error submitting check-in:",u),K({type:"error",message:"Failed to submit check-in. Please try again."})}finally{r(!1)}}};return a?e.jsx("div",{className:"space-y-6",children:e.jsxs(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(F,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Submitted!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your daily check-in. Your progress has been recorded."}),e.jsx("button",{onClick:()=>{n(!1),d({painLevel:0,swelling:0,rom:0,notes:""})},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Check-in"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Check-in"}),e.jsx("p",{className:"text-gray-600",children:"Track your daily recovery progress"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(z,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Pain Level: ",i.painLevel,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:i.painLevel,onChange:g=>d({...i,painLevel:parseInt(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No pain"}),e.jsx("span",{children:"Severe pain"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Swelling: ",i.swelling,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:i.swelling,onChange:g=>d({...i,swelling:parseInt(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No swelling"}),e.jsx("span",{children:"Severe swelling"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Range of Motion: ",i.rom,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:i.rom,onChange:g=>d({...i,rom:parseInt(g.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No movement"}),e.jsx("span",{children:"Full range"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),e.jsx("textarea",{value:i.notes,onChange:g=>d({...i,notes:g.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional observations about your recovery today..."})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:t,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Check-in"})]})})]})]})]})}const pe=[{id:"pain-free",label:"Pain-free at rest",category:"Pain Management"},{id:"minimal-pain",label:"Minimal pain with activity",category:"Pain Management"},{id:"full-rom",label:"Full range of motion",category:"Mobility"},{id:"strength-90",label:"90% of pre-injury strength",category:"Strength"},{id:"balance",label:"Good balance and proprioception",category:"Function"},{id:"sport-specific",label:"Sport-specific movements",category:"Function"},{id:"cardiovascular",label:"Cardiovascular fitness maintained",category:"Fitness"},{id:"psychological",label:"Confident to return to play",category:"Psychology"}];function Js(){C();const[s,t]=m.useState([]),[r,a]=m.useState(""),n=g=>{t(u=>u.includes(g)?u.filter(p=>p!==g):[...u,g])},i=s.length===pe.length,d=s.length/pe.length*100,h=[...new Set(pe.map(g=>g.category))];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Return to Play Checklist"}),e.jsx("p",{className:"text-gray-600",children:"Track your readiness to return to competitive play"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Progress Overview"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[s.length," of ",pe.length," criteria met"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx(c.div,{className:`h-3 rounded-full ${i?"bg-green-500":"bg-blue-500"}`,initial:{width:0},animate:{width:`${d}%`},transition:{duration:.5}})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500":"bg-yellow-500"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:i?"Ready to Return":"Not Yet Ready"})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(d),"% Complete"]})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sport Selection"}),e.jsxs("select",{value:r,onChange:g=>a(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select your sport"}),e.jsx("option",{value:"rugby",children:"Rugby"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"athletics",children:"Athletics"}),e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsx("div",{className:"space-y-6",children:h.map((g,u)=>e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+u*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:g}),e.jsx("div",{className:"space-y-3",children:pe.filter(p=>p.category===g).map(p=>{const l=s.includes(p.id);return e.jsxs("div",{onClick:()=>n(p.id),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("button",{className:"flex-shrink-0",children:l?e.jsx(F,{className:"w-6 h-6 text-green-600"}):e.jsx(Wt,{className:"w-6 h-6 text-gray-400"})}),e.jsx("span",{className:`flex-1 ${l?"text-gray-900":"text-gray-700"}`,children:p.label})]},p.id)})})]},g))}),i&&e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(F,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Ready to Return!"}),e.jsx("p",{className:"text-green-700",children:"You've met all the criteria for return to play. Please consult with your practitioner before resuming competitive activities."})]})]})})]})}const Qs=[{id:1,title:"Injury Prevention Fundamentals",type:"Video",duration:"15 min",category:"Prevention",description:"Learn the basics of preventing common athletic injuries",thumbnail:"/api/placeholder/300/200"},{id:2,title:"Recovery Nutrition Guide",type:"PDF",duration:"10 min read",category:"Nutrition",description:"Essential nutrition tips for optimal recovery",thumbnail:"/api/placeholder/300/200"},{id:3,title:"Mental Health in Sports",type:"Video",duration:"20 min",category:"Psychology",description:"Managing mental health during injury recovery",thumbnail:"/api/placeholder/300/200"},{id:4,title:"Rehabilitation Exercises",type:"Video",duration:"25 min",category:"Exercise",description:"Safe exercises for common injuries",thumbnail:"/api/placeholder/300/200"}],er=["All","Prevention","Nutrition","Psychology","Exercise","Recovery"];function tr(){const[s,t]=m.useState(""),[r,a]=m.useState("All"),n=Qs.filter(i=>{const d=i.title.toLowerCase().includes(s.toLowerCase())||i.description.toLowerCase().includes(s.toLowerCase()),h=r==="All"||i.category===r;return d&&h});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ve,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Learning Hub"}),e.jsx("p",{className:"text-gray-600",children:"Educational resources for injury prevention and recovery"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(je,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search resources...",value:s,onChange:i=>t(i.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsx("select",{value:r,onChange:i=>a(i.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:er.map(i=>e.jsx("option",{value:i,children:i},i))})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((i,d)=>e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+d*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:i.type==="Video"?e.jsx(rt,{className:"w-12 h-12 text-gray-400"}):e.jsx(Ve,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:i.type}),e.jsx("span",{className:"text-sm text-gray-500",children:i.duration})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:i.category}),e.jsx("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-sm font-medium",children:i.type==="Video"?e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"Watch"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Kt,{className:"w-4 h-4"}),e.jsx("span",{children:"Download"})]})})]})]})]},i.id))}),n.length===0&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(Ve,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filter criteria."})]})]})}function sr(){const{user:s}=C(),[t,r]=m.useState([]),[a,n]=m.useState(!0);m.useEffect(()=>{s&&i()},[s]);const i=async()=>{if(s)try{n(!0),r([{id:"plan-1",title:"Ankle Sprain Recovery Plan",phases:[{title:"Phase 1: Acute Recovery (Days 1-3)",completed:!0,exercises:[{name:"Rest, Ice, Compression, Elevation",done:!0},{name:"Ankle Alphabet Exercises",done:!0},{name:"Gentle Range of Motion",done:!1}]},{title:"Phase 2: Subacute Recovery (Days 4-10)",completed:!1,exercises:[{name:"Calf Raises (3x15)",done:!1},{name:"Single-leg Balance (2x30s)",done:!1},{name:"Ankle Circles (3x10 each direction)",done:!1}]},{title:"Phase 3: Return to Activity (Days 11-21)",completed:!1,exercises:[{name:"Lunges (3x10 each leg)",done:!1},{name:"Jump Rope (5 minutes)",done:!1},{name:"Sport-specific Drills",done:!1}]}],created_at:"2024-01-20T10:00:00Z"}])}catch(u){w.error("Error fetching recovery plans:",u)}finally{n(!1)}},d=(u,p,l)=>{r(o=>o.map(x=>{if(x.id===u){const y=[...x.phases];return y[p]={...y[p],exercises:y[p].exercises.map((j,v)=>v===l?{...j,done:!j.done}:j)},{...x,phases:y}}return x}))},h=u=>u.exercises.filter(l=>l.done).length/u.exercises.length*100,g=u=>{const p=u.phases.reduce((o,x)=>o+x.exercises.length,0);return u.phases.reduce((o,x)=>o+x.exercises.filter(y=>y.done).length,0)/p*100};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recovery Plans"}),e.jsx("p",{className:"text-gray-600",children:"Follow your personalized recovery program"})]})]}),t.length>0?e.jsx("div",{className:"space-y-6",children:t.map((u,p)=>e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(u.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(g(u)),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-6",children:e.jsx(c.div,{className:"bg-blue-600 h-2 rounded-full",initial:{width:0},animate:{width:`${g(u)}%`},transition:{duration:.5}})}),e.jsx("div",{className:"space-y-4",children:u.phases.map((l,o)=>{const x=h(l);return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:l.title}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(x),"%"]}),l.completed&&e.jsx(F,{className:"w-5 h-5 text-green-600"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mb-3",children:e.jsx(c.div,{className:"bg-green-500 h-1 rounded-full",initial:{width:0},animate:{width:`${x}%`},transition:{duration:.5}})}),e.jsx("div",{className:"space-y-2",children:l.exercises.map((y,j)=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50",children:[e.jsx("button",{onClick:()=>d(u.id,o,j),className:"flex-shrink-0",children:y.done?e.jsx(F,{className:"w-5 h-5 text-green-600"}):e.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 rounded-full"})}),e.jsx("span",{className:`flex-1 ${y.done?"line-through text-gray-500":"text-gray-900"}`,children:y.name}),y.done&&e.jsx(Ae,{className:"w-4 h-4 text-green-600"})]},j))})]},o)})})]},u.id))}):e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(B,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Recovery Plans"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any active recovery plans yet. Your practitioner will create one for you after your injury assessment."})]})]})}function rr(){const{user:s}=C(),[t,r]=m.useState([]),[a,n]=m.useState(!0),[i,d]=m.useState(""),[h,g]=m.useState("all");m.useEffect(()=>{s&&u()},[s]);const u=async()=>{if(s)try{n(!0);const o=await k.getAssignments(s.id),x=[...new Set(o.map(j=>j.student_id))],y=await Promise.all(x.map(async j=>{const v=await k.getUsers().then(O=>O.find(Y=>Y.id===j)),P=o.filter(O=>O.student_id===j),A=(await k.getInjuries(j)).sort((O,Y)=>new Date(Y.date_reported).getTime()-new Date(O.date_reported).getTime())[0];return{...v,assignments:P,latestInjury:A}}));r(y)}catch(o){w.error("Error fetching assigned athletes:",o)}finally{n(!1)}},p=t.filter(o=>{const x=o.full_name.toLowerCase().includes(i.toLowerCase())||o.email.toLowerCase().includes(i.toLowerCase());return h==="active"?x&&o.assignments.some(y=>y.active):h==="completed"?x&&o.assignments.every(y=>!y.active):x}),l=o=>{switch(o){case"reported":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"in_treatment":return"bg-indigo-100 text-indigo-800";case"recovering":return"bg-green-100 text-green-800";case"resolved":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Assigned Athletes"}),e.jsx("p",{className:"text-gray-600",children:"Manage your assigned student-athletes and their recovery"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(je,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search athletes...",value:i,onChange:o=>d(o.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:h,onChange:o=>g(o.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Athletes"}),e.jsx("option",{value:"active",children:"Active Cases"}),e.jsx("option",{value:"completed",children:"Completed Cases"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:p.map((o,x)=>e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-semibold text-gray-600",children:o.full_name.split(" ").map(y=>y[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:o.full_name}),e.jsx("p",{className:"text-sm text-gray-600",children:o.email})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:e.jsx(oe,{className:"w-4 h-4"})})]})]}),o.latestInjury&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Latest Injury"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(o.latestInjury.status)}`,children:o.latestInjury.status.replace("_"," ")})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:o.latestInjury.injury_type}),e.jsxs("p",{className:"text-xs text-gray-500",children:[o.latestInjury.body_part," • ",new Date(o.latestInjury.date_occurred).toLocaleDateString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Active Assignments"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.assignments.filter(y=>y.active).length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Cases"}),e.jsx("span",{className:"font-medium text-gray-900",children:o.assignments.length})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View Details"}),e.jsx("button",{className:"flex-1 bg-gray-100 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"Message"})]})})]},o.id))}),p.length===0&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i||h!=="all"?"No athletes found":"No assigned athletes"}),e.jsx("p",{className:"text-gray-600",children:i||h!=="all"?"Try adjusting your search or filter criteria.":"You don't have any assigned athletes yet. Contact an administrator to get assigned to cases."})]})]})}function ar(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(ye,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Recovery Logs"}),e.jsx("p",{className:"text-gray-600",children:"Track patient recovery progress"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Log Entry"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Recovery Logs"}),e.jsx("p",{className:"text-gray-600",children:"This page will contain the recovery logs interface for practitioners."})]})})]})}function nr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(at,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Session Notes"}),e.jsx("p",{className:"text-gray-600",children:"Document patient sessions and observations"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Session Note"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(at,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Session Notes"}),e.jsx("p",{className:"text-gray-600",children:"This page will contain the session notes interface for practitioners."})]})})]})}function ir(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(nt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Template Builder"}),e.jsx("p",{className:"text-gray-600",children:"Create and manage treatment plan templates"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Template"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Template Builder"}),e.jsx("p",{className:"text-gray-600",children:"This page will contain the template builder interface for practitioners."})]})})]})}function lr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Treatment Plans"}),e.jsx("p",{className:"text-gray-600",children:"Manage patient treatment plans and progress"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Plan"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Treatment Plans"}),e.jsx("p",{className:"text-gray-600",children:"This page will contain the treatment plans interface for practitioners."})]})})]})}function or(){C();const[s,t]=m.useState([]),[r,a]=m.useState(!0),[n,i]=m.useState(""),[d,h]=m.useState("all");m.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const o=await k.getUsers();t(o)}catch(o){w.error("Error fetching users:",o)}finally{a(!1)}},u=s.filter(o=>{const x=o.full_name.toLowerCase().includes(n.toLowerCase())||o.email.toLowerCase().includes(n.toLowerCase()),y=d==="all"||o.role===d;return x&&y}),p=o=>{switch(o){case"admin":return"bg-red-100 text-red-800";case"practitioner":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},l=o=>{switch(o){case"admin":return"👑";case"practitioner":return"👨‍⚕️";case"student":return"🎓";default:return"👤"}};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Users"}),e.jsx("p",{className:"text-gray-600",children:"Manage all system users and their roles"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Add User"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Users",value:s.length,color:"bg-blue-500"},{label:"Students",value:s.filter(o=>o.role==="student").length,color:"bg-green-500"},{label:"Practitioners",value:s.filter(o=>o.role==="practitioner").length,color:"bg-purple-500"},{label:"Admins",value:s.filter(o=>o.role==="admin").length,color:"bg-red-500"}].map((o,x)=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.value})]}),e.jsx("div",{className:`w-12 h-12 ${o.color} rounded-lg flex items-center justify-center`,children:e.jsx(M,{className:"w-6 h-6 text-white"})})]})},x))}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(je,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search users...",value:n,onChange:o=>i(o.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:d,onChange:o=>h(o.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"student",children:"Students"}),e.jsx("option",{value:"practitioner",children:"Practitioners"}),e.jsx("option",{value:"admin",children:"Admins"})]})]})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((o,x)=>e.jsxs(c.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:x*.05},className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:l(o.role)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.full_name}),e.jsx("div",{className:"text-sm text-gray-500",children:o.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p(o.role)}`,children:o.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[o.phone&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),e.jsx("span",{children:o.phone})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:o.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900 p-1",children:e.jsx(Jt,{className:"w-4 h-4"})})]})})]},o.id))})]})})}),u.length===0&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]})]})}function cr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(bt,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Assign Practitioners"}),e.jsx("p",{className:"text-gray-600",children:"Assign practitioners to student-athletes"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Assignment Interface"}),e.jsx("p",{className:"text-gray-600",children:"This page will contain the interface for assigning practitioners to students."})]})})]})}function dr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(yt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"System analytics and performance metrics"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Injuries",value:"127",change:"+12%",icon:te,color:"bg-red-500"},{label:"Active Cases",value:"43",change:"+5%",icon:B,color:"bg-blue-500"},{label:"Recovered",value:"84",change:"+18%",icon:We,color:"bg-green-500"},{label:"Total Users",value:"156",change:"+8%",icon:M,color:"bg-purple-500"}].map((s,t)=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),e.jsxs("p",{className:"text-sm text-green-600",children:[s.change," from last month"]})]}),e.jsx("div",{className:`w-12 h-12 ${s.color} rounded-lg flex items-center justify-center`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})})]})},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Injury Trends"}),e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Chart will be implemented here"})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recovery Times"}),e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Chart will be implemented here"})})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:[{action:"New injury reported",user:"John Doe",time:"2 hours ago"},{action:"Recovery plan completed",user:"Dr. Smith",time:"4 hours ago"},{action:"User registered",user:"Jane Wilson",time:"6 hours ago"}].map((s,t)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-900",children:s.action}),e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",s.user]}),e.jsx("span",{className:"text-sm text-gray-400 ml-auto",children:s.time})]},t))})]})]})}function mr(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Status"}),e.jsx("p",{className:"text-gray-600",children:"Monitor system health and performance"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{service:"Database",status:"operational",icon:F,color:"text-green-600"},{service:"API",status:"operational",icon:F,color:"text-green-600"},{service:"Storage",status:"degraded",icon:vt,color:"text-yellow-600"}].map((s,t)=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s.icon,{className:`w-6 h-6 ${s.color}`}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.service}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:s.status})]})]})},t))}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Metrics"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ae,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"System metrics will be displayed here"})]})]})]})}function ur(){const{user:s}=C(),[t,r]=m.useState([]),[a,n]=m.useState(!0);m.useEffect(()=>{s&&i()},[s]);const i=async()=>{if(s)try{n(!0);const h=await k.getAppointments(s.id,s.role);r(h)}catch(h){w.error("Error fetching appointments:",h)}finally{n(!1)}},d=h=>{switch(h){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"no_show":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointments"}),e.jsx("p",{className:"text-gray-600",children:"Manage your appointments and schedule"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Appointment"})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),t.length>0?e.jsx("div",{className:"space-y-4",children:t.filter(h=>new Date(h.appointment_date)>new Date).sort((h,g)=>new Date(h.appointment_date).getTime()-new Date(g.appointment_date).getTime()).map((h,g)=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:new Date(h.appointment_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(h.appointment_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:h.location||"Location TBD"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsxs("span",{children:[h.duration_minutes," minutes"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${d(h.status)}`,children:h.status.replace("_"," ")}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]})},h.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming appointments"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any scheduled appointments at the moment."}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Schedule Your First Appointment"})]})]})]})}function xr(){var o;const{user:s}=C(),[t,r]=m.useState([]),[a,n]=m.useState(!0),[i,d]=m.useState(""),[h,g]=m.useState(null);m.useEffect(()=>{s&&u()},[s]);const u=async()=>{if(s)try{n(!0);const x=await k.getMessages(s.id);r(x)}catch(x){w.error("Error fetching messages:",x)}finally{n(!1)}},p=async x=>{if(x.preventDefault(),!(!s||!i.trim()||!h))try{await k.sendMessage({sender_id:s.id,receiver_id:h,message:i,read:!1}),d(""),u()}catch(y){w.error("Error sending message:",y)}},l=t.reduce((x,y)=>{const j=y.sender_id===(s==null?void 0:s.id)?y.receiver_id:y.sender_id;return x[j]||(x[j]=[]),x[j].push(y),x},{});return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(le,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),e.jsx("p",{className:"text-gray-600",children:"Communicate with your team"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Start a conversation"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversations"}),Object.keys(l).length>0?e.jsx("div",{className:"space-y-2",children:Object.entries(l).map(([x,y])=>{const j=y[y.length-1],v=y.filter(P=>P.receiver_id===(s==null?void 0:s.id)&&!P.read).length;return e.jsx("button",{onClick:()=>g(x),className:`w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors ${h===x?"bg-blue-50 border border-blue-200":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["User ",x.slice(-4)]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:j.message})]}),v>0&&e.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:v})]})},x)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(le,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"No conversations yet"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:h?e.jsxs("div",{className:"h-96 flex flex-col",children:[e.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4",children:(o=l[h])==null?void 0:o.map((x,y)=>e.jsx("div",{className:`flex ${x.sender_id===(s==null?void 0:s.id)?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${x.sender_id===(s==null?void 0:s.id)?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:x.message}),e.jsx("p",{className:`text-xs mt-1 ${x.sender_id===(s==null?void 0:s.id)?"text-blue-100":"text-gray-500"}`,children:new Date(x.sent_at).toLocaleTimeString()})]})},x.id))}),e.jsxs("form",{onSubmit:p,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:i,onChange:x=>d(x.target.value),placeholder:"Type a message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(es,{className:"w-4 h-4"})})]})]}):e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the list to start messaging"})]})})})]})]})}function hr(){C();const[s,t]=m.useState(""),[r,a]=m.useState("all"),n=i=>{const d=i.target.files;d&&d.length>0&&w.debug("Uploading files:",d)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(it,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Files"}),e.jsx("p",{className:"text-gray-600",children:"Manage your files and documents"})]})]}),e.jsxs("label",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors cursor-pointer",children:[e.jsx(lt,{className:"w-5 h-5"}),e.jsx("span",{children:"Upload Files"}),e.jsx("input",{type:"file",multiple:!0,onChange:n,className:"hidden"})]})]}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(je,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",placeholder:"Search files...",value:s,onChange:i=>t(i.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:r,onChange:i=>a(i.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"image",children:"Images"}),e.jsx("option",{value:"document",children:"Documents"}),e.jsx("option",{value:"video",children:"Videos"})]})]})]})}),e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(it,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No files uploaded"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Upload files to share with your team or store important documents."}),e.jsxs("label",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-flex items-center space-x-2",children:[e.jsx(lt,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Your First File"}),e.jsx("input",{type:"file",multiple:!0,onChange:n,className:"hidden"})]})]})})]})}function gr(){const{user:s,profile:t,setProfile:r}=C(),[a,n]=m.useState({full_name:"",email:"",phone:"",bio:"",specialization:""}),[i,d]=m.useState(!1);m.useEffect(()=>{t&&n({full_name:t.full_name||"",email:t.email||"",phone:t.phone||"",bio:t.bio||"",specialization:t.specialization||""})},[t]);const h=async g=>{g.preventDefault(),d(!0);try{await new Promise(u=>setTimeout(u,1e3)),w.debug("Profile updated:",a)}catch(u){w.error("Error updating profile:",u)}finally{d(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Q,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Picture"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t!=null&&t.profile_pic?e.jsx("img",{src:t.profile_pic,alt:"Profile",className:"w-24 h-24 rounded-full object-cover"}):e.jsx(Q,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsx("span",{children:"Change Photo"})]})]})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Personal Information"}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"text",value:a.full_name,onChange:g=>n({...a,full_name:g.target.value}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"email",value:a.email,onChange:g=>n({...a,email:g.target.value}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xe,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),e.jsx("input",{type:"tel",value:a.phone,onChange:g=>n({...a,phone:g.target.value}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(s==null?void 0:s.role)==="practitioner"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization"}),e.jsx("input",{type:"text",value:a.specialization,onChange:g=>n({...a,specialization:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Physiotherapy, Sports Medicine"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:a.bio,onChange:g=>n({...a,bio:g.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself..."})]}),e.jsx(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Save Changes"})]})})]})]})]})]})}const pr=()=>e.jsx(As,{});function yr(){const{user:s,loading:t}=C();return ws(),t?e.jsx(pr,{}):e.jsx(kt,{children:e.jsx(ns,{children:e.jsxs(is,{children:[e.jsx(S,{path:"/login",element:s?e.jsx(U,{to:"/dashboard",replace:!0}):e.jsx(X,{title:"Sign In",subtitle:"Welcome back to DUT Athletic Injury Management",children:e.jsx(Ps,{})})}),e.jsx(S,{path:"/register",element:s?e.jsx(U,{to:"/dashboard",replace:!0}):e.jsx(X,{title:"Get Started",subtitle:"Create your account to access DUT Athletic Injury Management",children:e.jsx(Cs,{})})}),e.jsx(S,{path:"/forgot-password",element:s?e.jsx(U,{to:"/dashboard",replace:!0}):e.jsx(Is,{})}),e.jsx(S,{path:"/reset-password",element:e.jsx(Ls,{})}),e.jsx(S,{path:"/verify-email",element:e.jsx(Us,{})}),e.jsx(S,{path:"/logout",element:e.jsx(Ms,{})}),e.jsx(S,{path:"/signin",element:e.jsx(U,{to:"/login",replace:!0})}),e.jsx(S,{path:"/sign-in",element:e.jsx(U,{to:"/login",replace:!0})}),e.jsx(S,{path:"/signup",element:e.jsx(U,{to:"/register",replace:!0})}),e.jsx(S,{path:"/sign-up",element:e.jsx(U,{to:"/register",replace:!0})}),e.jsx(S,{path:"/auth/login",element:e.jsx(U,{to:"/login",replace:!0})}),e.jsx(S,{path:"/auth/register",element:e.jsx(U,{to:"/register",replace:!0})}),e.jsx(S,{path:"/signout",element:e.jsx(U,{to:"/logout",replace:!0})}),e.jsx(S,{path:"/auth/verify",element:e.jsx(U,{to:"/verify-email",replace:!0})}),e.jsx(S,{path:"/dashboard",element:e.jsx(E,{children:e.jsx(T,{children:e.jsx(Ds,{})})})}),e.jsx(S,{path:"/report-injury",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(Zs,{})})})}),e.jsx(S,{path:"/my-injuries",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(Vs,{})})})}),e.jsx(S,{path:"/onboarding",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(Ys,{})})})}),e.jsx(S,{path:"/daily-checkin",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(Xs,{})})})}),e.jsx(S,{path:"/rtp-checklist",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(Js,{})})})}),e.jsx(S,{path:"/learning-hub",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(tr,{})})})}),e.jsx(S,{path:"/recovery-plans",element:e.jsx(E,{requiredRole:"student",children:e.jsx(T,{children:e.jsx(sr,{})})})}),e.jsx(S,{path:"/assigned-athletes",element:e.jsx(E,{requiredRole:"practitioner",children:e.jsx(T,{children:e.jsx(rr,{})})})}),e.jsx(S,{path:"/recovery-logs",element:e.jsx(E,{requiredRole:"practitioner",children:e.jsx(T,{children:e.jsx(ar,{})})})}),e.jsx(S,{path:"/session-notes",element:e.jsx(E,{requiredRole:"practitioner",children:e.jsx(T,{children:e.jsx(nr,{})})})}),e.jsx(S,{path:"/template-builder",element:e.jsx(E,{requiredRole:"practitioner",children:e.jsx(T,{children:e.jsx(ir,{})})})}),e.jsx(S,{path:"/treatment-plans",element:e.jsx(E,{requiredRole:"practitioner",children:e.jsx(T,{children:e.jsx(lr,{})})})}),e.jsx(S,{path:"/manage-users",element:e.jsx(E,{requiredRole:"admin",children:e.jsx(T,{children:e.jsx(or,{})})})}),e.jsx(S,{path:"/assign-practitioners",element:e.jsx(E,{requiredRole:"admin",children:e.jsx(T,{children:e.jsx(cr,{})})})}),e.jsx(S,{path:"/analytics",element:e.jsx(E,{requiredRole:"admin",children:e.jsx(T,{children:e.jsx(dr,{})})})}),e.jsx(S,{path:"/system-status",element:e.jsx(E,{requiredRole:"admin",children:e.jsx(T,{children:e.jsx(mr,{})})})}),e.jsx(S,{path:"/appointments",element:e.jsx(E,{children:e.jsx(T,{children:e.jsx(ur,{})})})}),e.jsx(S,{path:"/messages",element:e.jsx(E,{children:e.jsx(T,{children:e.jsx(xr,{})})})}),e.jsx(S,{path:"/files",element:e.jsx(E,{children:e.jsx(T,{children:e.jsx(hr,{})})})}),e.jsx(S,{path:"/settings",element:e.jsx(E,{children:e.jsx(T,{children:e.jsx(gr,{})})})}),e.jsx(S,{path:"/",element:e.jsx(U,{to:s?"/dashboard":"/register",replace:!0})}),e.jsx(S,{path:"*",element:e.jsx(U,{to:s?"/dashboard":"/register",replace:!0})})]})})})}Pt(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsxs(kt,{children:[e.jsx(yr,{}),e.jsx(Ns,{})]})}));
