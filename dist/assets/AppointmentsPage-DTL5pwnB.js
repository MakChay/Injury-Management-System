import{j as e,m as n,b as i,P as u,l as h,r as p,e as g}from"./ui-D_jLh_Lr.js";import{r}from"./vendor-B9gohGc-.js";import{u as y,a as j,l as b}from"./index-D5lOMFz8.js";import"./supabase-DOoHAlwf.js";import"./router-CIHs1KQM.js";function D(){const{user:s}=y(),[l,o]=r.useState([]),[d,c]=r.useState(!0);r.useEffect(()=>{s&&m()},[s]);const m=async()=>{if(s)try{c(!0);const t=await j.getAppointments(s.id,s.role);o(t)}catch(t){b.error("Error fetching appointments:",t)}finally{c(!1)}},x=t=>{switch(t){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"no_show":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(i,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointments"}),e.jsx("p",{className:"text-gray-600",children:"Manage your appointments and schedule"})]})]}),e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2 hover:bg-blue-700 transition-colors",children:[e.jsx(u,{className:"w-5 h-5"}),e.jsx("span",{children:"Schedule Appointment"})]})]}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Appointments"}),l.length>0?e.jsx("div",{className:"space-y-4",children:l.filter(t=>new Date(t.appointment_date)>new Date).sort((t,a)=>new Date(t.appointment_date).getTime()-new Date(a.appointment_date).getTime()).map((t,a)=>e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(i,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:new Date(t.appointment_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.appointment_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(p,{className:"w-4 h-4"}),e.jsx("span",{children:t.location||"Location TBD"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.duration_minutes," minutes"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(t.status)}`,children:t.status.replace("_"," ")}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View Details"})]})]})},t.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(i,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming appointments"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any scheduled appointments at the moment."}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Schedule Your First Appointment"})]})]})]})}export{D as AppointmentsPage};
