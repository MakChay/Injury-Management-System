import{j as e,m as n,n as h,A as g,b as p,u as y}from"./ui-D_jLh_Lr.js";import{r as l}from"./vendor-B9gohGc-.js";import{u as b,a as j,p as d,l as f}from"./index-D5lOMFz8.js";import"./supabase-DOoHAlwf.js";import"./router-CIHs1KQM.js";function C(){const{user:r}=b(),[i,c]=l.useState(!1),[m,o]=l.useState(!1),[s,t]=l.useState({painLevel:0,swelling:0,rom:0,notes:""}),u=async a=>{if(a.preventDefault(),!!r){c(!0);try{await j.createDailyCheckIn({student_id:r.id,pain_level:s.painLevel,swelling:s.swelling,rom:s.rom,notes:s.notes}),d({type:"success",message:"Daily check-in submitted successfully!"}),o(!0)}catch(x){f.error("Error submitting check-in:",x),d({type:"error",message:"Failed to submit check-in. Please try again."})}finally{c(!1)}}};return m?e.jsx("div",{className:"space-y-6",children:e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Submitted!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your daily check-in. Your progress has been recorded."}),e.jsx("button",{onClick:()=>{o(!1),t({painLevel:0,swelling:0,rom:0,notes:""})},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Check-in"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(g,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Check-in"}),e.jsx("p",{className:"text-gray-600",children:"Track your daily recovery progress"})]})]}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(p,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Pain Level: ",s.painLevel,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:s.painLevel,onChange:a=>t({...s,painLevel:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No pain"}),e.jsx("span",{children:"Severe pain"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Swelling: ",s.swelling,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:s.swelling,onChange:a=>t({...s,swelling:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No swelling"}),e.jsx("span",{children:"Severe swelling"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Range of Motion: ",s.rom,"/10"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"range",min:"0",max:"10",value:s.rom,onChange:a=>t({...s,rom:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"No movement"}),e.jsx("span",{children:"Full range"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),e.jsx("textarea",{value:s.notes,onChange:a=>t({...s,notes:a.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional observations about your recovery today..."})]}),e.jsx(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Check-in"})]})})]})]})]})}export{C as DailyCheckInPage};
